name: Morpho TVL Telegram Alert

on:
  schedule:
    - cron: '0 7 * * *'
  workflow_dispatch:

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Recupera TVL da DefiLlama e manda Telegram
        run: |
          sudo apt-get update && sudo apt-get install -y jq curl bc

          echo "ðŸ“¡ Recupero dati da DefiLlama per vault Steakhouse..."

          # ID ufficiale del pool su DefiLlama (da URL)
          POOL_ID="2bad58b8-13f6-41c6-9245-a9dc1ea85be9"
          API_URL="https://yields.llama.fi/chart/${POOL_ID}"

          RESPONSE=$(curl -s "$API_URL")

          # Prendi ultimo elemento dell'array (dato piÃ¹ recente)
          TVL=$(echo "$RESPONSE" | jq -r '.data[-1].tvlUsd // "error"')
          APY=$(echo "$RESPONSE" | jq -r '.data[-1].apy // 0')

          APY_DISPLAY=$(echo "$APY" | awk '{printf "%.2f", $0}')

          if
